\begin{resumoextendido}
		
	\section*{Introdução}
%	Computadores estão cada vez menores e mais poderosos, permitindo que diversos aspectos da vida possam ser melhorados ao adicionar unidades de processamento a dispositivos comuns.
%	Muitas dessas aplicações são focadas em conveniências, a integração de objetos com computadores pode ser usado para economizar tempo e salvar vidas \citep{rti2014}.
%	Uma forma de fazer isto é adicionando computadores e dispositivos de comunicação a veículos -- como carros, ônibus e trens -- para aumentar a eficiência e a segurança do trânsito.
%	
%	Em 2013, cerca de 1,25 milhão de pessoas perderam suas vidas devido a acidentes de trânsito \citep{whofactsheet}.
%	Nos EUA, este número tem diminuído ao longo das últimas décadas, mas ainda é uma grande causa de morte ao redor do mundo \citep{whotraffic}.
%	Além disso, com o aumento da população de veículos, congestionamento tomam muito tempo das pessoas em suas rotinas.
%	Em cidades como Los Angeles, Moscou, Nova Iorque, Bogotá e São Paulo, pessoas passam dezenas de horas por ano no trânsito \citep{inrixtraffic}.
%	
%	Veículos inteligentes e redes veiculares são ferramentas tecnológicas para remediar os problemas acima.
%	Através do uso de sensores e de comunicação sem fio, os veículos podem evitar acidentes ao alertar motoristas distraídos \citep{lee2004collision} ou ao acompanhar a velocidade e posição de outros veículos \citep{hafner2011automated}.
%	Além disso, podem sugerir rotas para distribuir o tráfego e evitar congestionamentos.
%	
%	Se tratando de aplicações de segurança e eficiência no trânsito, é crucial que comunicações ocorram com baixa latência (cerca de 100 milissegundos \citep{camp2005vehicle}).
%	Tecnologia celular contemporânea, como LTE, poderia ser usada para conectar veículos à internet, mas a latência adicionada pela transmissão tornaria aplicações de segurança lentas e pouco confiáveis \citep{mangel2010comparison}.
%	Outros potenciais problemas da tecnologia celular para o uso veicular incluem a necessidade de infraestrutura, o custo do serviço, e o compartilhamento da rede com outros tipos de dispositivos.
%	
%	Portanto, uma solução \textit{ad-hoc} é preferível, sem depender de infraestrutura e permitindo a comunicação direta entre participantes da rede.
%	
%	
%	Porém, como é o caso em muitas tecnologias novas, VANETs podem ser um alvo de ataques de usuários maliciosos.
%	Um usuário malicioso local pode alterar dados para manipular o trânsito, enquanto atacantes remotos podem invadir veículos para controlar a rede \citep{garip2015congestion}.
%	Ataques podem ser apenas inconveniências até ameaças à vida, portanto é importante que redes veiculares estejam preparadas para mitigá-los.
%	
%	Em redes \textit{ad-hoc}, uma forma de mitigar certos ataques é usando dados coletados previamente para filtrar mensagens que aparentam ser maliciosas, incorretas ou irrelevantes.
%	Para tal, emprega-se o conceito de \textit{confiança}.
%	Ao receber mensagens de outros nós, um membro da rede pode construir uma relação de confiança com os outros.
%	Caso o valor de confiança da origem de uma mensagem seja muito baixo, essa mensagem pode ser considerada não confiável.
%	Além disso, essas relações de confiança podem ser propagadas pela rede, permitindo que nós que ainda não formaram suas próprias opiniões possam se beneficiar da informação que já circula pela rede.
%	
	
	Dentro dos próximos anos, uma grande parte de novos veículos virão equipados com funcionalidades de comunicação.
	Essas funcionalidades permitirão o compartilhamento de dados com outros dispositivos e podem ser ferramentas importantes para reduzir o trânsito e o risco de acidentes.
	Acidentes de trânsito são uma das maiores causas de morte no mundo \citep{whofactsheet}, tornando necessárias soluções para melhorar a segurança nas ruas.
	
	O compartilhamento rápido de dados entre veículos permite, por exemplo, que veículos inteligentes alertem seus motoristas sobre condições de trânsito \citep{lee2004collision} e que veículos autônomos formem pelotões \citep{amoozadeh2015platoon}.
	
	Assim, surge a necessidade de redes veiculares \textit{ad-hoc} (\textit{vehicular ad-hoc networks}, ou VANETs), nas quais veículos são os nós ou membros da rede e compartilham informações entre si, sem depender da internet ou de infraestrutura.	
	Porém, como é o caso em muitas tecnologias novas, VANETs podem ser um alvo de ataques de usuários maliciosos.
	Um usuário malicioso local pode alterar dados para manipular o trânsito, enquanto atacantes remotos podem invadir veículos para controlar a rede \citep{garip2015congestion}.
	Ataques podem ser apenas inconveniências até ameaças à vida, portanto é importante que redes veiculares estejam preparadas para mitigá-los.

	Em redes \textit{ad-hoc}, uma forma de mitigar certos ataques é usando dados coletados previamente para filtrar mensagens que aparentam ser maliciosas, incorretas ou irrelevantes.
	Para tal, emprega-se o conceito de \textit{confiança}.
	Ao receber mensagens de outros nós, um membro da rede pode construir uma relação de confiança com os outros.	
	Caso o valor de confiança da origem de uma mensagem seja muito baixo, essa mensagem pode ser considerada não confiável.
	Além disso, essas relações de confiança podem ser propagadas pela rede, permitindo que nós que ainda não formaram suas próprias opiniões possam se beneficiar da informação que já circula pela rede.

	Este trabalho propõe um novo modelo de confiança, TruMan, para gerenciar relações de confiança em uma rede veicular.
	Usando o modelo proposto, nós de uma rede veicular podem rapidamente identificar quais outros nós são dignos de confiança ou não.
	Como redes veiculares são altamente dinâmicas, nós adquirem mais informações à medida do tempo e podem se beneficiar de propriedades sociais de VANETs para construir relações fortes com outros nós encontrados frequentemente.
	
	O modelo TruMan é baseado em outro já existente, chamado MaNI \citep{vernize2015malicious}, que era restrito para redes estáticas.
	Utilizando algoritmos de grafos, TruMan demonstra-se uma solução eficiente para o problema de gerenciamento de confiança em redes veiculares.
	
	As próximas seções são as seguintes.
	A \textbf{Revisão Bibliográfica} aborda os conceitos de redes complexas, redes sociais, redes tecnológicas e redes veiculares, além de estudos relevantes na área de confiança para redes veiculares.
	Em \textbf{Projeto e Implementação do TruMan}, os objetivos e hipóteses do TruMan são apresentados, além das explicações dos algoritmos que compõe o modelo.
	A seguir, \textbf{Avaliação do TruMan} mostra as ferramentas usadas para validar o TruMan e os resultados dos experimentos realizados.
	Por fim, a \textbf{Conclusão} contém os pensamentos finais sobre o projeto.
		
	\section*{Revisão Bibliográfica}
	
	Uma revisão do estudo de redes como um todo foi feito para o desenvolvimento de um novo modelo de confiança para redes veiculares.
	Esta seção introduz conceitos relacionados a redes complexas, redes sociais, redes tecnológicas e redes veiculares, incluindo o significado e importância de confiança em cada tipo de rede.
	Por fim, trabalhos relevantes relacionados à área de confiança em redes veiculares são apresentados.
	
	\subsection*{Redes Complexas}
	Redes complexas podem descrever diversos sistemas observados na natureza e na sociedade com \textit{vértices} (ou \textit{nós}) e \textit{arestas} \citep{newmannetworks}.
	Geralmente são dividas em quatro categorias:
	\begin{enumerate}
		\item \textbf{Redes Tecnológicas} são construídas para prover serviços. Exemplos incluem a Internet, a rede telefônica e redes de transporte.
		\item \textbf{Redes Sociais} são compostas de pessoas ou grupos de pessoas e a relação entre elas. Podem ser relações de parentesco, amizades, relações profissionais, etc.
		\item \textbf{Redes de Informação} são redes nas quais os nós são informações e as arestas são relações entre conjuntos de informações. Por exemplo, a World Wide Web é uma rede de informação que existe na Internet (que, por sua vez, é uma rede tecnológica).
		\item \textbf{Redes Biológicas} são as redes encontradas na natureza. Podem ser compostas de animais, células, conjuntos de seres vivos, etc.
	\end{enumerate}
	
	Confiança pode ser uma ferramenta útil em diversos tipos de rede para proteger seus participantes.
	Sob a perspectiva da ciência da computação, confiança pode ser definida como uma medida de quanta certeza um membro da rede tem de que outro membro se comporta de forma adequada e fornece informações válidas e/ou significativas \citep{sherchan2013survey}.
	
	\subsection*{Confiança em Redes Sociais}
	Redes sociais são aquelas formadas por pessoas e as relações entre elas. 
	Em uma rede social, é simples observar a importância de confiança, pois é algo usado por pessoas todos os dias para tomar decisões.
	De forma geral, essas relações de confiança também funcionam quando adaptadas ao meio digital, pois relacionamentos construídos no mundo real permanecem válidos.
	
	Uma característica importante de redes sociais é a possibilidade de transmitir confiança de um relacionamento para outro, formando o conceito de ``amigos de amigos'' \citep{boissevain1974friends}.
	Isso permite que pares de integrantes de uma rede social mantenham um laço de confiança mesmo que não se conheçam diretamente, graças a um elo de confiança em comum, permitindo rápida disseminação de informação.
	
	Em geral, redes sociais são estáticas.
	Mesmo que laços de confiança sejam criados ou terminados, o formato geral da rede tende a mudar pouco, graças a uma série de outros laços formados entre nós próximos ao evento.
	
	\subsection*{Confiança em Redes Tecnológicas}
	Em muitas redes tecnológicas, como na Internet, confiança é aplicada de maneira centralizada através de serviços que fornecem segurança a seus usuários.
	Ou seja, no contexto da Internet, confiança geralmente é derivada de uma fonte secundária; usuários e provedores de serviço raramente mantêm suas próprias listas de confiabilidade.
	
	Essas soluções são válidas para a Internet, mas seriam lentas demais para serem usadas em redes dinâmicas \textit{ad-hoc}.
	Redes \textit{ad-hoc} exigem soluções decentralizadas para gerenciamento de confiança.
	Ou seja, cada membro da rede armazena suas próprias opiniões sobre membros, originadas a partir de contatos anteriores.
	
	Além disso, como essas informações são adquiridas aos poucos, o conhecimento que um membro da rede tem é geralmente incerto e incompleto \citep{baras2005cooperation}.
	Raramente pode-se ter certeza de que determinada informação é completamente precisa.
	Por isso é importante também levar em consideração as informações adquiridas por vizinhos confiáveis, assim expandido o conhecimento disponível.
	
	Redes veiculares \textit{ad-hoc} são um caso especial de rede tecnológica, mas, devido a diversas peculiaridades em topologia e mobilidade, também apresentam peculiaridades quando se trata de confiança.
	
	\subsection*{Confiança em Redes Veiculares}
	Hoje, muitos veículos já vêm equipados com o hardware necessário para processamento e comunicação veicular.
	É esperado que, até 2022, a maioria dos veículos comuns também venham com tais funcionalidades \citep{connectedcar2016}.
	Redes veiculares \textit{ad-hoc} (VANETs) são uma aplicação muito estudada quando se trata de veículos inteligentes ou autônomos.
	Nelas, todos os nós são relacionados ao trânsito, como veículos ou unidades posicionadas em infraestrutura ao lado das ruas.
	
	O padrão de comunicação mais usado para redes veiculares é o IEEE 802.11p, que descreve dois tipos de membros (ou nós) para redes veiculares: unidades a bordo (\textit{on-board units} ou OBUs) e unidades de beira de estrada \textit(\textit{roadside units} ou RSUs).
	Comunicação entre pares de OBUs é denominada \textit{vehicle-to-vehicle} (V2V), enquanto comunicação entre OBUs e RSUs é chamada de \textit{vehicle-to-infrastructure} (V2I).
	Este estudo aborda apenas casos V2V e, portanto, refere-se apenas a veículos como membros de uma rede veicular.

	Como é esperado para novas tecnologias, redes veiculares podem se tornar um alvo relevante para usuários maliciosos e atacantes.
	Alguns exemplos de potenciais problemas são: 
	módulos e sensores, como GPS e velocímetro, defeituosos, inibindo aplicações de segurança ou eficiência \citep{isaac2010security}; 
	veículos intencionalmente transmitindo dados falsos \citep{golle2004detecting}; 
	atacantes remotos controlando múltiplos veículos para congestionar a rede \citep{garip2015congestion}; 
	invasão de privacidade ao tentar decifrar e ler mensagens alheias \citep{isaac2010security};
	disrupção de sinal para impedir a comunicação de outros veículos \citep{isaac2010security}.
	
	Como em outros tipos de rede, VANETs dependem de membros que se comportam de maneira correta e previsível e informações incorretas comprometem a utilidade da rede.
	Há uma distinção importante a ser feita entre nós maliciosos e defeituosos, porém, em termos de confiabilidade, é possível tratá-los da mesma forma, pois, afinal, a principal característica de ambos é a transmissão de informação incorreta.
	
	Em geral, soluções de gerenciamento de confiança são divididos em dois tipos: os que usam \textit{confiança orientada a entidade}, nos quais confiança é relacionada a membros da rede e leva-se em consideração quem transmitiu certa mensagem, ou \textit{confiança orientada a dados}, nos quais o conteúdo da mensagem é mais importante do que quem a transmitiu.
	Existem também algumas soluções que combinam ambos métodos.
	
	Algumas das propriedades únicas de redes veiculares, que afetam soluções de confiança para elas, são:
	topologia que muda constantemente e rapidamente;
	mobilidade de nós restringidas às ruas disponíveis;
	fragmentação, quando duas ou mais partes da rede estão distantes demais para se comunicar;
	comunicação pouco confiável com nós distantes;
	nenhuma restrição notável de energia, quando comparadas a redes de dispositivos móveis;
	densidade potencialmente muito alta;
	topologia suscetível a comportamentos erráticos de motoristas.
	
	Em \citep{zhang2011survey}, oito propriedades desejáveis para modelos de confiança para redes veiculares são apresentadas:
	construção de confiança descentralizada;
	lidar bem com baixas densidades;
	dinâmicas relacionadas a local, tempo, eventos e tarefas;
	escalabilidade;
	medida de certeza integrada;
	segurança a nível de sistema;
	sensibilidade a privacidade;
	robustez.
	
	\subsection*{Trabalhos Relacionados}
	
	Muitas soluções para confiança em redes veiculares foram propostas ao longo dos anos, como \citep{patwardhan2006data}, \citep{gerlach2007trust}, \citep{raya2008data}, \citep{huang2010situation}, \citep{ding2013novel}, \citep{haddadou2013trust}, \citep{liu2016lsot}, \citep{kerrache2016detection}.
	Além disso, alguns trabalhos oferecem revisões sobre propostas já apresentadas, como \citep{zhang2011survey}, \citep{ma2011survey}, \citep{zhang2012trust}, \cite{mejri2014survey}, \citep{soleymani2015trust}, \citep{sengar2016survey}, \citep{dwivedi2016review}.
	Nesta seção, alguns dos trabalhos mais relevantes são apresentados.
	
	No modelo proposto em \citep{minhas2010towards} usa diversos critérios para julgar se uma mensagem é confiável ou não.
	Ele utiliza uma combinação de confiança baseada em função (por exemplo, viaturas policiais são automaticamente mais confiáveis) e confiança baseada em experiência (baseada em interações anteriores).
	Além disso, uma mensagem é considerada mais confiáveis quando sua origem estava próximo do evento sendo relatado por ela.
	Quando múltiplas mensagens sobre o mesmo evento são recebidas, um nó pode optar por considerar as que foram enviadas por nós mais confiáveis, ou ponderar um consenso baseado em diversas opiniões alheias.
	Porém, este modelo depende apenas de interações diretas, e confiança não é propagada pela rede.
	
	Em \citep{chen2010trust}, os autores propõem avaliar mensagens com um método que utiliza grupos.
	Nós são separados em grupos e, cada vez que um deseja enviar uma mensagem, os outros membros do grupo oferecem suas opiniões sobre o emissor.
	Finalmente, um dos nós, designado como líder do grupo, coleta as opiniões e decide se a mensagem é válida de acordo com o consenso.
	Porém, é incerto como o modelo funcionaria em redes esparsas, manter grupos em uma rede altamente dinâmica pode ser uma tarefa de alto custo e um grupo todo pode ser comprometido se o líder não for confiável.
		
	O modelo ART \citep{li2016art} busca um modelo robusto e resistente a ataques.
	Ele tem dois passos principais: coleta de dados e detecção de nós maliciosos.
	Utiliza a teoria de evidências Dempster-Shafter para agregar dados vindos de outros nós.
	Então, usa uma métrica baseada em cosseno para comparar vetores de confiança de dois nós (cada vetor é uma sequência de opiniões que um nó tem sobre outros).
	Nós com vetores de confiança próximos confiam uns nos outros.
	O problema dessa solução é a dependência em cálculos custosos que podem atrapalhar o desempenho em situações que exigem baixa latência.
	
	Os autores de \citep{chen2017cloud} propõem uma solução de confiança baseada em nuvem, que exige um gerenciamento de confiança via internet.
	A vantagem disso é simplificar diversas dificuldades de redes veiculares, como redes esparsas e altamente dinâmicas.
	Contudo, o modelo é problemático em regiões com pouco ou nenhum sinal de comunicação celular e o sistema todo é suscetível a instabilidades no serviço.
	
	Por fim, é importante notar que nenhum dos trabalhos acima oferece análises de custo e complexidade de seus algoritmos.
	Portanto, manter uma baixa complexidade é um objetivo chave do modelo TruMan.
	
	\section*{Projeto e Implementação do TruMan}
	
	TruMan é um modelo de gerenciamento de confiança para redes veiculares, possibilitando a detecção de nós maliciosos em uma rede e a disseminação dados de confiança para outros nós.
	TruMan busca gerenciamento de confiança eficiente em redes altamente dinâmicas, mantendo baixo custo computacional e um modelo simples de entender e implementar.
	Esta seção apresenta os fundamentos e algoritmos por trás de TruMan, assim como detalhes de sua implementação.

	\textbf{Redes Sociais e VANETs}
	
	\subsection*{Algoritmo de Tarjan}
	
	O algoritmo de Tarjan para componentes fortemente conexos \citep{tarjan1972depth} é uma parte importante da eficiência atingida pelo TruMan.
	Este algoritmo permite abstrair um grafo grande em outro menor, reduzindo o custo de passos subsequentes.
	Dado um grafo direcionado $T = (V,E)$, um componente fortemente conexo é um grupo de nós nos quais, para cada par $u, v \in V$, há um caminho de $u$ para $v$ e de $v$ para $u$.
	Pensando em gerenciamento de confiança, podemos extender essa definição para considerar apenas caminhos formados por arestas que representam relações de confiança (ou um valor de confiança alto).

	O número de componentes é, no máximo, $|V|$: no pior caso, cada nó forma seu próprio componente.
	A complexidade do algoritmo é de $O(|V|+|E|)$.
	
	Utilizando os resultados do algoritmo de Tarjan, um grafo não direcionado $C = (V', E')$ é formado.
	Cada $v' \in V'$ representa um componente de $T$, enquanto as arestas $e' \in E'$ representam arestas entre nós de $T$ que não pertencem ao mesmo componente.
	
	\subsection*{Algoritmo de coloração de grafos}
	Coloração de grafos é um problema clássico da teoria dos grafos, no qual deve-se atribuir a cada nó uma cor de forma que não existam dois nós vizinhos com a mesma cor.
	Coloração de grafos é a heurística usada para a detecção de nós maliciosos no TruMan.
	Descobrir o menor número de cores possível para colorir um grafo arbitrário é um problema NP-difícil \citep{sanchez1989determining}.
	
	Os autores de \citep{mittal2011graph} apresentam uma solução eficiente de colorir grafos, apesar de não provar que o algoritmo sempre usa o menor número possível de cores.
	Porém, o algoritmo é eficiente e seus resultados são corretos, tornando-se extremamente útil para o TruMan.
	O custo do algoritmo é de apenas $O(|E|)$ -- em comparação, o algoritmo DSATUR tem complexidade de $O(|V|^2)$.
	
	\subsection*{O algoritmo TruMan}
	
	TruMan é baseado no algoritmo MaNI \citep{vernize2013dissertation}, que sugeriu o uso de componentes fortemente conexos e de coloração de grafos para a detecção de nós maliciosos em uma rede.
	Porém, o MaNI foi desenvolvido para redes estáticas e é executado por um agente externo à rede, tornando-se inapropriado para redes veiculares.
	Para funcionar em redes dinâmicas, TruMan roda iterativamente em intervalos pré-determinados.
	Além disso, o algoritmo roda de forma descentralizada, com uma instância rodando em cada membro da rede.
	
	Cada nó $u$ armazena um grafo direcionado de confiança $T = (V,E)$ que é uma abstração da rede real e começa apenas com $V = {u}$.
	Cada nó em $V$ representa um membro da rede e cada aresta em $E$ representa uma relação de confiança entre dois nós.
	Como cada nó armazena sua própria representação da rede e essa representação evolui com o tempo, há um $T_i^u = (V_i^u, E_i^u)$ para cada nó $u$ e iteração $i$.
	
	No começo de cada iteração, nós coletam informações sobre seus vizinhos.
	Um pré-requisito deste passo é a existência de um teste que classifica um nó adjacente como benigno ou malicioso.
	Tal teste é um problema grande por si próprio, e sai do escopo deste trabalho.
	Estudos sobre isso podem ser encontrados em \citep{golle2004detecting}, \citep{li2016defective}, \citep{kerrache2016detection}.
	
	Cada vez que um nó vizinho $v$ é identificado como benigno, o valor de confiança armazenado em $u \rightarrow v$ aumenta, e o grafo $T_i-1^v$ é unido com o grafo armazenado por $u$.
	Após coletar informações de todos os seus vizinhos naquele instante, um novo grafo $T_i^u$ é formado, que é utilizado para os próximos passos.
	
	Em seguida, $T_i^u$ é separado em componentes fortemente conexos usando o algoritmo de Tarjan \citep{tarjan1972depth}, de forma que cada par de nós em um componente é conectado por um caminho de confiança.
	Ou seja, todos os nós de um mesmo componente confiam uns nos outros direta ou indiretamente.
	Portanto, em termos de confiança, nós dentro de um mesmo componente podem ser considerados como um só: se um deles é confiável, pode-se assumir que todos são.
	Os componentes tornam-se nós do grafo $C^u_i = (V'^u_i, E'^u_i)$.
	
	O algoritmo de coloração de grafos \citep{mittal2011graph} é usado como heurística para classificar nós como benignos ou não.
	Após a execução do algoritmo, a cor cujos nós em $C_i^u$ representam a maior quantidade de nós em $T_i^u$ é classificada como correta, e as outras cores são classificadas como incorretas.
	Isto funciona porque, em uma rede na qual a maior parte dos nós são benignos, estes tendem a formar poucos componentes grandes, enquanto os nós maliciosos pertencem a componentes pequenos.
	Assume-se que a maior parte dos nós seja sempre benigna -- caso contrário, a rede como um todo está comprometida e perde completamente sua função.
	
	A complexidade do algoritmo pode ser calculada ao somar as operações mais custosas.
	Para cada iteração $i$ e nó $u$, e sendo $n$ o número de vizinhos de $u$, o cálculo é o seguinte:
	
	$$ TruMan = Tarjan + Colora\text{\textit{\c{c}}}\tilde ao + (Uni\tilde ao\times(n^u_i)) $$
	
	Como discutido acima, o algoritmo de Tarjan tem complexidade de $O(|V|+|E|)$ para o grafo de confiança $T$.
	Já o algoritmo de coloração tem complexidade de $O(|E'|)$ para o grafo de componentes $C$.
	A parte mais custosa do algoritmo é a união de grafos que acontece após a comunicação entre nós confiáveis.
	A complexidade desse processo é de $O(|E|)$ para vizinho que um nó tem em uma determinada iteração; o número de vizinhos é, no máximo, $|V|$.
	A complexidade total do Truman é, portanto:
	
	$$ O(|V|+|E|) + O(|E'|) + O(|V|\times |E|)$$
	
	Porém, $|E'| \leq |E|$ é sempre verdade, porque o grafo $C$ é uma redução do grafo $T$.
	Além disso, $|V|+|E| \leq |V|\times |E|$ também é verdade, com a exceção do cenário irrelevante no qual $|V| \leq 1$ ou $|E| \leq 1$.
	Portanto, a complexidade do algoritmo TruMan pode ser simplificada como:
	
	$$O(|V| \times |E|)$$
	
	\section*{Avaliação do TruMan}
	
	Para testar o TruMan, uma implementação do algoritmo foi feita usando Python.
	Grafos com mobilidade de nós foram gerados no simulador ONE \citep{keranen2009one}, usando o \textit{Working Day Movement Model} \citep{ekman2008working} para providenciar mobilidade próxima ao do mundo real, e um mapa de parte da cidade de Helsinki, Finlândia.
	Imagens da topologia da rede foram salvas a cada 10 segundos simulados, e essas imagens foram usadas como entrada para o algoritmo TruMan.
	O comportamento de nós maliciosos é aleatorizar suas opiniões sobre seus vizinhos.
	
	A maioria dos parâmetros da simulação no ONE foram tiradas do artigo do Working Day Movement Model \citep{ekman2008working}.
	Alguns parâmetros diferentes foram usados, mostrados na Tabela \ref{table:parameters}.
	Todos os nós da simulação são carros; para o propósito deste trabalho, nenhum outro tipo de veículo foi considerado.
	Uma parte pequena dos nós movimenta-se aleatoriamente, para simular veículos que não seguem padrões de movimento diários.
	
	O raio de transmissão dos nós varia de 10m a 50m, ilustrando as diferenças entre diferentes densidades de rede.
	A densidade de rede ($\delta$) é um valor que abstrai o volume e a frequência de conexões em redes veiculares, estimando a cobertura da rede pelo ambiente.
	Para o TruMan, densidades mais altas trazem melhores resultados, pois nós podem adquirir informações mais rapidamente.
	A densidade é calculada usando o raio de transmissão ($\rho$), o número de nós ($\eta$) e a área da simulação ($\alpha$).
	
	A cobertura de um único nó é o círculo ao redor dele formado pelo raio de transmissão.
	Esse valor é dividido por dois para compensar círculos sobrepostos, e então multiplicado pelo número de nós na rede.
	Por fim, esse valor é dividido pela área total do ambiente.
	A fórmula de densidade da rede é a seguinte:
	
	$$ \delta = \frac{\frac{\rho^2\pi}{2} \times \eta}{\alpha} $$
	
	As densidades de algumas simulações realizadas são exibidas na Tabela \ref{table:simdensities}.
	Já a Tabela \ref{table:citydensities} mostra as densidades de rede hipotéticas de algumas cidades do mundo, usando dados geográficos reais e supondo um raio de transmissão de apenas 10m.
	É possível ver que, mesmo com um raio de transmissão pequeno, as cidades oferecem densidades de rede maiores do que as das simulações, assumindo que uma parcela substancial de seus automóveis seja equipada com dispositivos de conexão.
	
	\subsection*{Simulações}
	
	Para validar o desempenho e a corretude de TruMan, diversas simulações foram executadas.
	
	A Figura \ref{fig:random103050} mostra simulações com 10\% dos nós agindo maliciosamente, com raio de comunicação entre 10m e 50m.
	É possível ver como o aumento do raio de comunicação melhora bastante os resultados:
	com 10m, quase 8000 iterações são necessárias para atingir um bom resultado, enquanto com 50 são apenas cerca de 1000.
	
	As Figuras \ref{fig:randommalicious1} e \ref{fig:randommalicious2} mostram simulações com quantidades diferentes de nós maliciosos e raio de comunicação de apenas 10m.
	Com até 30\% de nós maliciosos, os resultados são bons.
	Com 40\%, uma parte pequena de nós maliciosos não são detectados.
	Já com 50\%, os resultados são erráticos, pois o controle da rede é dividido entre os nós benignos e maliciosos.
	
	A maioria das simulações foram feitas com o limiar de confiança $h=0.5$, que significa que, para um nó confiar em outro, o valor de confiança deve ser acima de $0.5$.
	A Figura {fig:randomthresholds} demonstra o impacto de mudar esse limiar.
	Pode-se ver que o impacto não é muito significativo, porém, com $h=0.7$, os resultados são um pouco melhores.
	
	A Figura \ref{fig:random7} mostra os resultados da execução do algoritmo durante 7 dias simulados.
	A maioria dos nós maliciosos é detectada ao fim do primeiro dia, e a rede é completamente descoberta pouco tempo depois.
	Com o tempo, o número de falsos positivos cai, até tornar-se um número insignificante.
	
	Por fim, as Figuras \ref{fig:extramaliciousaging1} e \ref{fig:extramaliciousaging2} mostram como TruMan reage a um potencial ataque.
	Nessas simulações, um nó passa a ser malicioso na metade do tempo.
	O parâmetro $m$ determina quantas iterações o algoritmo leva para descartar arestas antigas, e, portanto, afeta a agilidade do modelo ao detectar um nó convertido.
	Com $m$ muito baixo, informações são descartadas muito rapidamente e o número de falsos positivos aumenta drasticamente.
	
	\section*{Conclusão}
\end{resumoextendido}